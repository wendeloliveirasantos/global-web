(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7506],{1239:function(e,r,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/seguros/vida/pagamento",function(){return a(4010)}])},4010:function(e,r,a){"use strict";a.r(r),a.d(r,{default:function(){return b}});var t=a(5893),o=a(1793),s=a(8367),n=a(9373),i=a(4890),d=a(6159),u=a(1064),c=a(8677),l=a(8115),p=a(5018),m=a(9279),h=a(3780),f=a(7516),x=a(5582),g=a(1163),y=a(7294);function b(){var e;let r=(0,g.useRouter)(),[a,b]=(0,y.useState)(!1),[,N]=(0,m._)(p.zP,""),{oferta:_,titular:v,cotacao:j}=(0,h.Z)(),[C,E]=y.useState(!1),[w,O]=(0,y.useState)("");async function R(e){try{b(!0);let a={quoteId:_.id,productReferenceId:JSON.stringify(_.productReferenceId),provider:_.operator,holder:{firstName:v.firstName,lastName:v.lastName,gender:"",cpfNumber:v.document,cellPhone:v.phone.replace(" ",""),birthDate:v.birthDate,email:v.email,address:v.address,number:v.number,city:v.city,neighborhood:v.neighborhood,uf:v.state,country:"BR",zipCode:v.postalCode.replace(" ","")},payment:{cardholderName:e.nomeTitular,cardholderCPF:e.cpfTitular,cardNumber:e.numeroCartao,securityCode:e.cvv,expiryMonth:e.mesValidade,expiryYear:e.anoValidade,installments:e.parcelas,operator:"mastercard"}},t=await f.Z.post("/hybrids/purchases",a);201==t.status?(N(JSON.stringify(t.data)),r.push("/seguros/vida/concluido"),b(!1)):(b(!1),E(!0),O(t.data.message))}catch(e){throw b(!1),Error()}}return a?(0,t.jsx)(s.Z,{}):_&&(0,t.jsx)(u.Z,{children:(0,t.jsx)(x.Z,{maxWidth:"xl",children:(0,t.jsx)(o.im,{style:{flex:1},background:"/images/city.png",children:(0,t.jsxs)(o.Yx,{style:{display:"flex"},children:[(0,t.jsx)(n.V,{bold:"Dados para",regular:"pagamento"}),(0,t.jsx)(i.Z,{regular:"Verifique se as informa\xe7\xf5es do seguro est\xe3o corretas. Caso necess\xe1rio, voc\xea pode voltar e atualizar os dados do titular do cart\xe3o."}),(0,t.jsx)(d.Y,{onSubmit:R,amount:null!==(e=_.amount)&&void 0!==e?e:0,business:"vida"}),(0,t.jsx)(l.V,{title:"ERRO AO PROCESSAR PAGAMENTO",text:w,open:C,onClose:()=>E(!1)}),(0,t.jsx)(c.$,{step:75})]})})})})}}},function(e){e.O(0,[3365,3961,6036,4810,9067,4965,3170,5477,1064,655,1793,2566,2888,9774,179],function(){return e(e.s=1239)}),_N_E=e.O()}]);